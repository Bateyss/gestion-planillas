<mat-accordion multi>
    <mat-expansion-panel hideToggle expanded="true">
        <mat-expansion-panel-header>
            <mat-panel-description>
                <button mat-stroked-button *ngIf="!planillaSeleccionado || planillaSeleccionado.id == 0" color="primary" (click)="crearPlanilla()">CREAR PLANILLA</button>
                <button mat-stroked-button *ngIf="!planillaSeleccionado || planillaSeleccionado.id > 0" color="primary" (click)="crearPlanilla()">EDITAR PLANILLA</button>
            </mat-panel-description>
        </mat-expansion-panel-header>
        
    </mat-expansion-panel>
    <mat-expansion-panel hideToggle expanded="true">
        <mat-expansion-panel-header>
            <mat-panel-title>
                Tabla Planilla
            </mat-panel-title>
            <mat-panel-description>
                <button mat-stroked-button color="primary" (click)="generarPlanilla()"
                                *ngIf="planillaList && planillaList.length > 0">Generar Planilla</button>
            </mat-panel-description>
        </mat-expansion-panel-header>
        <table mat-table [dataSource]="planillaList" class="mat-elevation-z8">
            <ng-container matColumnDef="nombre">
                <th mat-header-cell *matHeaderCellDef [style.textAlign]="'center'">Nombre</th>
                <td mat-cell *matCellDef="let element" [style.textAlign]="'center'"> {{element.nombre}} </td>
            </ng-container>
            <ng-container matColumnDef="empleado">
                <th mat-header-cell *matHeaderCellDef [style.textAlign]="'center'">Empleado</th>
                <td mat-cell *matCellDef="let element" [style.textAlign]="'center'"> {{element.empleado.nombres}}
                    {{element.empleado.apellidos}}
                </td>
            </ng-container>
            <ng-container matColumnDef="esEmpleadoDirecto">
                <th mat-header-cell *matHeaderCellDef [style.textAlign]="'center'">Es Empleado Directo</th>
                <td mat-cell *matCellDef="let element" [style.textAlign]="'center'"> {{element.esEmpleadoDirecto? 'SI' :
                    'NO'}}
                </td>
            </ng-container>
            <ng-container matColumnDef="salario">
                <th mat-header-cell *matHeaderCellDef [style.textAlign]="'center'">Salario Mensual</th>
                <td mat-cell *matCellDef="let element" [style.textAlign]="'center'"> {{element.salario |
                    currency}}
                </td>
            </ng-container>
            <ng-container matColumnDef="periodo">
                <th mat-header-cell *matHeaderCellDef [style.textAlign]="'center'">Periodo</th>
                <td mat-cell *matCellDef="let element" [style.textAlign]="'center'"> {{element.periodo}}
                </td>
            </ng-container>
            <ng-container matColumnDef="fechaIngreso">
                <th mat-header-cell *matHeaderCellDef [style.textAlign]="'center'">Fecha Ingreso</th>
                <td mat-cell *matCellDef="let element" [style.textAlign]="'center'"> {{element.fechaIngreso | date}}
                </td>
            </ng-container>

            <tr mat-header-row
                *matHeaderRowDef="['nombre','empleado', 'esEmpleadoDirecto', 'salario', 'periodo','fechaIngreso']"></tr>
            <tr mat-row
                *matRowDef="let row; columns: ['nombre','empleado', 'esEmpleadoDirecto', 'salario', 'periodo','fechaIngreso'];"
                (click)="seleccionarPlanilla(row)"></tr>
        </table>
    </mat-expansion-panel>
</mat-accordion>